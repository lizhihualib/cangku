<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
   <mapper namespace="com.chinasoft.junling.dao.LoginDao">
 	<resultMap type="login" id="loginResults">
 		<id column="lID" property="lID"/>
 		<result column="uName" property="uName"/>
 		<result column="uPwd" property="uPwd"/>
 		<result column="uType" property="uType" />
 		<result column="user_uId" property="user_uId"/>
 	</resultMap>
 	 <select id="queryLogin" parameterType="login" resultMap="loginResults">
 		
 		select * from login 
 		where uName=#{uName} and uPwd=#{uPwd} and uType=#{uType}
 	</select>
 	 	<!-- useGeneratedKeys="true" keyProperty="uid" 表示在插入成功后，会将插入数据后的id返回给login对象 -->
 	<insert id="insertLogin" parameterType="login" useGeneratedKeys="true" keyProperty="id" >
 		insert into login(uName,uPwd) values(#{uName},#{uPwd})
 	</insert>
 	<!-- useGeneratedKeys="true" keyProperty="uid" 表示在修改成功后，会将修改数据后的id返回给user对象 -->
 	<update id="updatePwd" parameterType="login" useGeneratedKeys="true" keyProperty="id" >
 		update login set uPwd=#{uPwd} where id=#{id}
 	</update>
 	
 	<delete id="deleteLogin" parameterType="login">
 		delete from login where uPwd=#{uPwd} and uName=#{uName}
 	</delete>
 	
 	</mapper>